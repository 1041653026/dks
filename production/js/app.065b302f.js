(function(t){function e(e){for(var n,i,o=e[0],u=e[1],c=e[2],p=0,h=[];p<o.length;p++)i=o[p],r[i]&&h.push(r[i][0]),r[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(h.length)h.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var u=a[o];0!==r[u]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},s=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=u;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1249:function(t,e,a){"use strict";var n=a("b8f2"),r=a.n(n);r.a},"278e":function(t,e,a){"use strict";var n=a("6c5e"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("ba4c"),r=a.n(n),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],o={data(){return{}}},u=o,c=(a("7c55"),a("2877")),l=Object(c["a"])(u,s,i,!1,null,null,null);l.options.__file="App.vue";var p=l.exports,h=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product"},[a("div",{staticClass:"content"},[a("div",{staticClass:"menu",style:{height:t.menuHeight}},t._l(t.menu,function(e,n){return a("router-link",{style:{height:t.countedHeight,"line-height":t.countedHeight},attrs:{to:"/shop/"+t.$route.params.shopName+"/product/type/"+e.id}},[t._v(t._s(e.text))])}))]),a("div",{staticClass:"show"},[a("router-view")],1)])},m=[],f={data(){return{menu:[]}},computed:{countedHeight(){return(this.getHeight()-244)/7+"px"},menuHeight(){return this.getHeight()-244+"px"}},methods:{getHeight(){var t=document.documentElement.clientHeight;return this.$store.commit("changeHeight",t),t}},created(){this.$http.get("data/menu.json",{params:{shopName:this.$route.params.shopName}}).then(({data:t})=>{0===t.errno&&(this.menu=t.data)})}},v=f,g=(a("d4f2"),Object(c["a"])(v,d,m,!1,null,null,null));g.options.__file="product.vue";var _=g.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shop"},[a("div",{staticClass:"header"},[a("h1",[t._v(t._s(t.data.title))]),a("p",[t.data.logo?a("img",{attrs:{src:"img/"+t.data.logo,alt:""}}):t._e(),a("span",[t._v(t._s(t.data.info))])])]),a("nav",t._l(t.data.menu,function(e,n){return a("router-link",{attrs:{to:"/shop/"+t.data.store+"/"+e.id}},[t._v(t._s(e.text))])})),a("router-view"),a("div",{staticClass:"shopping-cart"},[a("span",{staticClass:"account"},[t._v("共￥"+t._s(t.$store.state.num)+"元")]),a("span",{staticClass:"buy"},[t._v("确认购买")])])],1)},b=[],w={data(){return{data:{}}},created(){this.$http.get("data/"+this.$route.params.shopName+".json").then(({data:t})=>{t.erron||(this.data=t.data)})}},$=w,x=(a("1249"),Object(c["a"])($,y,b,!1,null,"620c426a",null));x.options.__file="shop.vue";var j=x.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"type",style:{height:t.$store.state.height-244+"px"}},t._l(t.list,function(e){return a("li",{key:e.id},[a("img",{attrs:{src:"img/item/"+e.img,alt:""}}),a("h3",[t._v(t._s(e.title))]),a("p",[a("span",{staticClass:"sales"},[t._v("已售"+t._s(e.sales)+"份")])]),a("p",[a("span",{staticClass:"price"},[t._v("￥"+t._s(e.price))]),a("span",{staticClass:"add changePrice",on:{click:function(a){t.$store.commit("addFood",e.price),t.addNum(e)}}},[t._v("+")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.num>0,expression:"item.num >0"}],staticClass:"num"},[t._v(t._s(e.num))]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.num>0,expression:"item.num >0"}],staticClass:"reduce changePrice",on:{click:function(a){t.$store.commit("reduceFood",e.price),t.reduceNum(e)}}},[t._v("-")])])])}))},N=[],O={data(){return{list:[],all:{}}},methods:{getData(){let t=this.$route.params.id;this.all[t]?this.list=this.all[t]:this.$http.get("data/"+this.$route.params.id+".json",{params:{shopName:this.$route.params.shopName}}).then(({data:e})=>{0===e.errno&&(this.list=e.data,this.all[t]=e.data)})},addNum(t){t.num++},reduceNum(t){t.num--,console.log(t.num)}},created(){this.getData()},watch:{$route(){this.getData()}}},H=O,k=(a("278e"),Object(c["a"])(H,C,N,!1,null,null,null));k.options.__file="type.vue";var P=k.exports;r.a.use(h["a"]);var S=new h["a"]({routes:[{path:"/shop/:shopName",name:"shop",component:j,children:[{path:"product",name:"product",component:_,children:[{path:"type/:id",name:"type",component:P}]}]},{path:"*",redirect:"/shop/dks/product/type/01"}]}),E=a("2f62");r.a.use(E["a"]);var F=new E["a"].Store({state:{num:0,height:""},mutations:{changeHeight(t,e){t.height=e},addFood(t,e){t.num+=parseInt(e)},reduceFood(t,e){t.num-=parseInt(e)}}}),M=a("bc3a"),D=a.n(M);r.a.prototype.$http=D.a,new r.a({router:S,store:F,render:t=>t(p)}).$mount("#app")},"5c48":function(t,e,a){},"6c5e":function(t,e,a){},"7c55":function(t,e,a){"use strict";var n=a("5c48"),r=a.n(n);r.a},b8f2:function(t,e,a){},c347:function(t,e,a){},d4f2:function(t,e,a){"use strict";var n=a("c347"),r=a.n(n);r.a}});
//# sourceMappingURL=app.065b302f.js.map